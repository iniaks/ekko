<!DOCTYPE html>
<html>
<head>
	<title></title>
	<script src="../src/ekko.js"></script>
	<script src="UniversityList.js"></script>
	<script type="text/javascript">


	window.onload = function() {

		var user = {
			name : 'tom',
			school : ['JinHua No.13 Middle School','JinHua No.1 High School','ZheJiang University']
		}

		var sequence = schoolList;

		var EXP_TRIM     = /(^\s+)|(\s+$)/g;
		//去除换行
		var EXP_ENTER    = /[\r\n\t]/g;


		var dom = document.getElementById('renderPlace');
		var tmp = document.getElementById('test');
//
		var EXP_CATEGORY = /(.+?)(~if|@for)(.*)?(~|@)/;

		var xss = {
			text : 1,
			welcome : 'hello',
			strong : "<str"+"ong>哈哈哈哈</str"+"ong>"
		}

		//console.log(EXP_CATEGORY.exec(tmp.innerHTML.replace(EXP_TRIM,'').replace(EXP_ENTER, '')));

//		var html = tmp.innerHTML.replace(EXP_TRIM,'').replace(EXP_ENTER, '').replace(EXP_CATEGORY, function(x,y,z,t) {
//
//			console.log(z)
//
//			return x.replace('hello', 'yes!')
//		})

		//dom.innerHTML = html;
		// console.log(tmp)
		ekko.render(dom, tmp,sequence);
	}
	
	</script>
</head>
<body>
	<div id="renderPlace">

	</div>



	<script type="text/html" id="test">
		@for ( district in sequence )
			<h1>---{{district.id}}---</h1>

			@for ( school in district.school )
			<p>{{ school.name }}</p>
			@
		@
	</script>
</body>
</html>